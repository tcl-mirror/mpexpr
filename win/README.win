Mpexpr for Windows

BEFORE YOU BEGIN

Mpexpr has been ported to WindowsNT.
It has been tested with the latest version of Tcl, 8.6.0


INSTALLING MPEXPR FOR WINDOWS

Binary install:
 
1. Copy mpexpr.dll to your Tcl .\lib directory.  
    
    copy mpexpr10.dll  c:\tcl\lib\mpexpr10.dll

2. Copy or add pkgIndex.tcl to your Tcl lib directory.  This is so the
   'package unknown' scripts can resolve the 'package ifneeded' to load the
   dll.

    mkdir c:\tcl\lib\mpexpr10
    copy pkgIndex.tcl c:\tcl\lib\mpexpr10

3. Try it out!

    c:\> tclsh
    % package require Mpexpr
    1.0 
    % mpexpr fib(34)

    If you get errors:

    If 'package require' says it can't find package Mpexpr:
	    -make sure you've installed the pkgIndex.tcl.
	    -or just load the mpexpr.dll manually
		    % load "c:/tcl/lib/mpexpr10.dll"
		    (or wherever you put it)


BUILDING MPEXPR FOR WINDOWS

The test development environment is
	Windows 7
	Microsoft Visual C++ 11.0
	Tcl 8.5.13 for Windows

1.  Install Tcl.  The 'binary' Tcl distributions contain all the include
    and library files needed by Mpexpr.  Alternatively, you can build
    and install from the full source Tcl distribution.

2.  Modify the makefile as needed.  You'll probably have to change the
    values for the TCL defines to suit, or else set these on the nmake
    command line (see next step).

3.  Make it!  
	C:\mpexpr\win> nmake -f makefile.vc
    or
        C:\mpexpr\win> nmake -f makefile.vc TCL=C:\tcl TCLLIB=C:\tcl\lib\tcl85.lib

    If you get an error about ntwin32.mak not found, look for the
    ntwin32.mak file in the Windows SDK directories, and add an extended
    INCLUDE list, e.g.,

       INCLUDE="%INCLUDE%;C:\Program Files (x86)\Microsoft SDKs\Windows\v7.1A\Include"

    to the nmake command line.

4.  Test
	C:\mpexpr> nmake -f makefile.vc test

5.  Install
	C:\mpexpr> nmake -f makefile.vc install
